{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>AuQmia</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="{% static 'global/css/style.css' %}">
</head>
{% block extra_head %}{% endblock %}

<body class="bg-gray-100">

  {% block extra_scripts %}{% endblock %}

  <!-- Barra de Navegação -->
  <nav class="bg-verde shadow-suave w-full">
    <div class="px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">

        <!-- Menus principais -->
        <div class="flex space-x-4 items-center">

          <!-- Menu: Cadastro -->
          <div x-data="{ open: false }" class="relative">
            <button @click="open = !open" class="px-4 py-2 text-white font-semibold hover:text-verde">
              Cadastro
            </button>

            <div x-show="open" @click.away="open = false"
              class="absolute z-10 bg-white shadow-lg rounded-suave w-48 mt-2">
              <a href="{% url 'clinica:cadastro_cliente' %}" class="botao-menu">Clientes</a>

              <!-- Submenu: Animal -->
              <div x-data="{ subOpen: false }" class="relative">
                <button @click="subOpen = !subOpen" class="botao-menu flex items-center justify-between w-full">
                  Animal
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </button>

                <div x-show="subOpen" @click.away="subOpen = false"
                  class="absolute left-full top-0 bg-white shadow-lg rounded-suave w-40">
                  <a href="{% url 'clinica:cadastro_animal' %}" class="submenu-link">Animal</a>
                  <a href="{% url 'clinica:cadastro_raca' %}" class="submenu-link">Raça</a>
                  <a href="{% url 'clinica:cadastro_especie' %}" class="submenu-link">Espécie</a>
                </div>
              </div>
              <a href="{% url 'clinica:cadastro_produto_servico' %}" class="botao-menu">Produtos e Serviços</a>
              <a href="#" class="botao-menu">Usuários</a>
              <a href="#" class="botao-menu">Veterinários</a>
            </div>
          </div>

          <!-- Menu: Financeiro -->
          <div x-data="{ open: false }" class="relative">
            <button @click="open = !open" class="px-4 py-2 text-white font-semibold hover:text-verde">
              Financeiro
            </button>

            <div x-show="open" @click.away="open = false"
              class="absolute z-10 bg-white shadow-lg rounded-suave w-48 mt-2">

              <!-- Submenu: Consultas -->
              <div x-data="{ subOpen: false }" class="relative">
                <button @click="subOpen = !subOpen" class="botao-menu flex items-center justify-between w-full">
                  Consultas
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                  </svg>
                </button>

                <div x-show="subOpen" @click.away="subOpen = false"
                  class="absolute left-full top-0 bg-white shadow-lg rounded-suave w-40">
                  <a href="{% url 'clinica:selecionar_animal' %}" class="submenu-link">Consulta</a>
                  <a href="{% url 'clinica:criar_agendamento' %}" class="submenu-link">Agendar</a>
                  <a href="{% url 'clinica:lista_agendamentos' %}" class="submenu-link">Lista de Agendamentos</a>

                </div>
              </div>

              <a href="#" class="botao-menu">Compras</a>
              <a href="{% url 'clinica:nova_venda' %}" class="botao-menu">Vendas</a>
              <a href="#" class="botao-menu">Despesas</a>
            </div>
          </div>
        </div>

        <!-- Botão Sair no canto direito -->
        <div>
          <a href="{% url 'clinica:logout' %}"
            class="bg-white text-verde font-semibold px-4 py-2 rounded-md hover:bg-gray-100 transition">
            Sair
          </a>
        </div>

      </div>
    </div>
  </nav>

  <!-- Conteúdo principal -->
  <main class="p-6">


    {% if messages %}
    <div class="mb-4">
      {% for message in messages %}
      <div class="message {{ message.tags }}">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}



    {% block content %}{% endblock content %}
  </main>
  {% block extra_js %}{% endblock extra_js %}
</body>

</html>